<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹¹æœå…¬å¸è‚¡ä»·æ·±åº¦æ´å¯ŸæŠ¥å‘Š</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        /* åŸºç¡€æ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', 'Helvetica', 'Arial', 'Microsoft YaHei', sans-serif;
            background: #f8f9fa;
            color: #1a1a1a;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* æ ‡é¢˜åŒºåŸŸ */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-bottom: 4px solid #1D428A;
        }

        .header h1 {
            color: #1D428A;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header .subtitle {
            color: #666666;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .header .update-time {
            color: #888888;
            font-size: 0.9rem;
        }

        /* å¡ç‰‡ç½‘æ ¼ */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        .card-title {
            font-size: 0.9rem;
            color: #666666;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .card-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 5px;
        }

        .card-value.positive {
            color: #10b981;
        }

        .card-value.negative {
            color: #ef4444;
        }

        .card-unit {
            font-size: 0.9rem;
            color: #888888;
            margin-bottom: 5px;
        }

        .card-desc {
            font-size: 0.85rem;
            color: #aaa;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .chart-title {
            font-size: 1.4rem;
            color: #1a1a1a;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .chart {
            width: 100%;
            height: 500px;
        }

        /* åˆ†æåŒºåŸŸ */
        .analysis-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .section-title {
            font-size: 1.4rem;
            color: #1a1a1a;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        .analysis-content {
            line-height: 1.8;
        }

        .analysis-content h3 {
            color: #2d3748;
            margin: 20px 0 10px 0;
            font-size: 1.2rem;
        }

        .analysis-content p {
            margin-bottom: 15px;
            color: #4a5568;
        }

        .highlight {
            background-color: #fffbeb;
            color: #d69e2e;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .trend-up {
            color: #10b981;
            font-weight: 600;
        }

        .trend-down {
            color: #ef4444;
            font-weight: 600;
        }

        /* è¡¨æ ¼æ ·å¼ */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        .data-table th,
        .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .data-table th {
            background-color: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }

        .data-table tr:hover {
            background-color: #f8fafc;
        }

        /* æ€»ç»“åŒºåŸŸ */
        .summary-section {
            background: linear-gradient(135deg, #4a9eff 0%, #5d8aff 100%);
            border-radius: 12px;
            padding: 25px;
            color: white;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);
        }

        .summary-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .summary-title i {
            margin-right: 10px;
            font-size: 1.6rem;
        }

        .summary-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .summary-point {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .summary-point h4 {
            margin-top: 0;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .summary-point h4 i {
            margin-right: 8px;
        }

        .summary-point p {
            margin-bottom: 0;
            color: #f0f8ff;
            line-height: 1.6;
        }

        .investment-advice {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #ffd43b;
        }

        .investment-advice h4 {
            margin-top: 0;
            color: white;
        }

        .investment-advice p {
            margin-bottom: 0;
            color: #f0f8ff;
        }

        /* åº•éƒ¨ä¿¡æ¯ */
        .footer {
            text-align: center;
            padding: 20px;
            color: #718096;
            font-size: 0.9rem;
            margin-top: 20px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .card-value {
                font-size: 1.5rem;
            }
            
            .chart {
                height: 400px;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ è‹¹æœå…¬å¸è‚¡ä»·æ·±åº¦æ´å¯ŸæŠ¥å‘Š</h1>
            <div class="subtitle">AAPL - åŸºäº100ä¸ªäº¤æ˜“æ—¥çš„è‚¡ä»·åˆ†æ (2025-10-03 è‡³ 2026-02-26)</div>
            <div class="update-time">æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026å¹´2æœˆ28æ—¥</div>
        </div>

        <!-- å…³é”®æŒ‡æ ‡å¡ç‰‡ -->
        <div class="cards-grid">
            <div class="card">
                <div class="card-title">ğŸ“ˆ æ€»ä½“è¡¨ç°</div>
                <div class="card-value positive">+5.79%</div>
                <div class="card-unit">å¹´åˆè‡³ä»Šæ¶¨è·Œå¹…</div>
                <div class="card-desc">èµ·å§‹: $258.02 â†’ ç»“æŸ: $272.95</div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ“Š æ—¥å‡æˆäº¤é‡</div>
                <div class="card-value">47,564,438</div>
                <div class="card-unit">è‚¡/æ—¥</div>
                <div class="card-desc">æ€»æˆäº¤é‡: 4,756,443,872 è‚¡</div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ¯ æ•´ä½“è¶‹åŠ¿</div>
                <div class="card-value" style="color: #10b981;">ä¸Šæ¶¨</div>
                <div class="card-unit">è¶‹åŠ¿æ–¹å‘</div>
                <div class="card-desc">YTD +5.79% | è¿‘æœŸ +4.29%</div>
            </div>

            <div class="card">
                <div class="card-title">âš–ï¸ ä»·æ ¼æ³¢åŠ¨</div>
                <div class="card-value">1.97%</div>
                <div class="card-unit">å¹³å‡æ—¥å†…æŒ¯å¹…</div>
                <div class="card-desc">æœ€é«˜: $288.62 | æœ€ä½: $243.42</div>
            </div>

            <div class="card">
                <div class="card-title">ğŸ”„ å¸‚åœºæ´»è·ƒåº¦</div>
                <div class="card-value">52:48</div>
                <div class="card-unit">ä¸Šæ¶¨:ä¸‹è·Œ</div>
                <div class="card-desc">ä¸Šæ¶¨52å¤©, ä¸‹è·Œ48å¤©</div>
            </div>

            <div class="card">
                <div class="card-title">â±ï¸ åˆ†æå‘¨æœŸ</div>
                <div class="card-value">100</div>
                <div class="card-unit">äº¤æ˜“æ—¥</div>
                <div class="card-desc">2025-10-03 è‡³ 2026-02-26</div>
            </div>
        </div>

        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šå›¾è¡¨åŒº - Kçº¿å›¾ + æˆäº¤é‡ -->
        <div class="chart-container">
            <h2 class="chart-title">ğŸ“Š Kçº¿å›¾ä¸æˆäº¤é‡åˆ†æ</h2>
            <div id="candleChart" class="chart"></div>
        </div>

        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šå›¾è¡¨åŒº - ä»·æ ¼åˆ†å¸ƒä¸æ³¢åŠ¨åˆ†æ -->
        <div class="chart-container">
            <h2 class="chart-title">ğŸ“ˆ ä»·æ ¼åˆ†å¸ƒä¸æ³¢åŠ¨åˆ†æ</h2>
            <div id="distributionChart" class="chart"></div>
        </div>

        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šå›¾è¡¨åŒº - æ”¶ç›˜ä»·èµ°åŠ¿ä¸ç§»åŠ¨å¹³å‡çº¿ -->
        <div class="chart-container">
            <h2 class="chart-title">ğŸ“‰ æ”¶ç›˜ä»·èµ°åŠ¿ä¸ç§»åŠ¨å¹³å‡çº¿</h2>
            <div id="priceTrendChart" class="chart"></div>
        </div>

        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šå›¾è¡¨åŒº - æˆäº¤é‡æ—¶åºå›¾ -->
        <div class="chart-container">
            <h2 class="chart-title">ğŸ’¸ æˆäº¤é‡æ—¶åºåˆ†æ</h2>
            <div id="volumeTrendChart" class="chart"></div>
        </div>

        <!-- æ•°æ®æ·±åº¦åˆ†æ -->
        <div class="analysis-section">
            <h2 class="section-title">ğŸ” æ•°æ®æ·±åº¦åˆ†æ</h2>

            <div class="analysis-content">
                <h3>1. è¶‹åŠ¿åˆ†æ</h3>
                <p>
                    åœ¨åˆ†æå‘¨æœŸå†…ï¼Œè‹¹æœå…¬å¸è‚¡ä»·æ•´ä½“å‘ˆç° <span class="highlight">ä¸Šæ¶¨</span> è¶‹åŠ¿ï¼Œ
                    ç´¯è®¡æ”¶ç›Šç‡ä¸º <span class="trend-up">+5.79%</span>ã€‚
                </p>

                <p>
                    <strong>è¿‘æœŸè¡¨ç°å¯¹æ¯”:</strong><br>
                    â€¢ æœ€è¿‘10ä¸ªäº¤æ˜“æ—¥æ¶¨è·Œå¹…: <span class="trend-up">+4.29%</span><br>
                    â€¢ å‰10ä¸ªäº¤æ˜“æ—¥æ¶¨è·Œå¹…: <span class="trend-up">-4.10%</span><br>
                    â€¢ å¯¹æ¯”å˜åŒ–: +8.39%
                </p>

                <p>
                    å½“å‰ç§»åŠ¨å¹³å‡çº¿çŠ¶æ€:<br>
                    â€¢ MA5(5æ—¥): <span class="highlight">$270.02</span><br>
                    â€¢ MA20(20æ—¥): <span class="highlight">$268.40</span><br>
                    â€¢ çŸ­æœŸå‡çº¿é«˜äºé•¿æœŸå‡çº¿ï¼Œæ˜¾ç¤ºçŸ­æœŸåŠ¨é‡è¾ƒå¼ºã€‚
                </p>

                <h3>2. æˆäº¤é‡æ´å¯Ÿ</h3>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ—¥æœŸ</th>
                            <th>æˆäº¤é‡</th>
                            <th>å½“æ—¥æ¶¨è·Œå¹…</th>
                            <th>æ”¶ç›˜ä»·</th>
                            <th>å¸‚åœºä¿¡å·</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2025-12-19</td>
                            <td>144,632,048è‚¡</td>
                            <td class="trend-up">0.56%</td>
                            <td>$273.67</td>
                            <td>æ”¾é‡ä¸Šæ¶¨</td>
                        </tr>
                        <tr>
                            <td>2026-01-30</td>
                            <td>92,443,408è‚¡</td>
                            <td class="trend-up">1.69%</td>
                            <td>$259.48</td>
                            <td>æ”¾é‡ä¸Šæ¶¨</td>
                        </tr>
                        <tr>
                            <td>2026-02-04</td>
                            <td>90,545,710è‚¡</td>
                            <td class="trend-up">1.54%</td>
                            <td>$276.49</td>
                            <td>æ”¾é‡ä¸Šæ¶¨</td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    <strong>é‡ä»·å…³ç³»åˆ†æ:</strong><br>
                    é‡ä»·ç›¸å…³æ€§ç³»æ•°ä¸º <span class="highlight">0.100</span>ï¼Œè¡¨æ˜å¼±ç›¸å…³ï¼ˆé‡ä»·å…³ç³»ä¸æ˜ç¡®ï¼‰ã€‚
                </p>

                <h3>3. æ”¯æ’‘ä¸é˜»åŠ›åˆ†æ</h3>
                <p>
                    åŸºäºè¿‘æœŸä»·æ ¼èµ°åŠ¿ï¼Œè¯†åˆ«ä»¥ä¸‹å…³é”®ä»·ä½:
                </p>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ä»·ä½ç±»å‹</th>
                            <th>ä»·æ ¼æ°´å¹³</th>
                            <th>è¯´æ˜</th>
                            <th>å¼ºåº¦</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>è¿‘æœŸæ”¯æ’‘</td>
                            <td>$252.18</td>
                            <td>2026-02-05å½¢æˆçš„é‡è¦æ”¯æ’‘</td>
                            <td>å¼º</td>
                        </tr>
                        <tr>
                            <td>è¿‘æœŸæ”¯æ’‘</td>
                            <td>$254.41</td>
                            <td>2026-01-23å½¢æˆçš„æŠ€æœ¯æ”¯æ’‘</td>
                            <td>ä¸­</td>
                        </tr>
                        <tr>
                            <td>è¿‘æœŸé˜»åŠ›</td>
                            <td>$280.90</td>
                            <td>2025-12-04å½¢æˆçš„é‡è¦é˜»åŠ›</td>
                            <td>å¼º</td>
                        </tr>
                        <tr>
                            <td>è¿‘æœŸé˜»åŠ›</td>
                            <td>$280.18</td>
                            <td>2025-12-03å½¢æˆçš„æŠ€æœ¯é˜»åŠ›</td>
                            <td>ä¸­</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- æ€»ç»“ä¸æŠ•èµ„å»ºè®® -->
        <div class="summary-section">
            <h3 class="summary-title">ğŸ’¡ æ ¸å¿ƒæ´å¯Ÿä¸æŠ•èµ„å»ºè®®</h3>
            <div class="summary-content">
                <div class="summary-point">
                    <h4>ğŸ“ˆ è§‚å¯Ÿä¸€ï¼šå¼ºåŠ¿ä¸Šæ¶¨è¶‹åŠ¿</h4>
                    <p>è‚¡ä»·åœ¨100ä¸ªäº¤æ˜“æ—¥å†…ç´¯è®¡ä¸Šæ¶¨5.79%ï¼Œæ•´ä½“å‘ˆç°ä¸Šæ¶¨æ€åŠ¿ã€‚è¿‘æœŸä¸Šæ¶¨åŠ¨èƒ½æœ‰æ‰€å¢å¼ºï¼Œæœ€è¿‘10ä¸ªäº¤æ˜“æ—¥æ¶¨å¹…è¾¾4.29%ã€‚</p>
                </div>

                <div class="summary-point">
                    <h4>ğŸ“Š è§‚å¯ŸäºŒï¼šé‡ä»·é…åˆ</h4>
                    <p>æˆäº¤é‡åœ¨å…³é”®äº¤æ˜“æ—¥æ˜æ˜¾æ”¾å¤§ï¼Œæœ€å¤§å•æ—¥æˆäº¤è¾¾144,632,048è‚¡ã€‚é‡ä»·ç›¸å…³æ€§0.100ï¼Œæ˜¾ç¤ºå¼±ç›¸å…³ï¼ˆé‡ä»·å…³ç³»ä¸æ˜ç¡®ï¼‰ã€‚</p>
                </div>

                <div class="summary-point">
                    <h4>âš–ï¸ è§‚å¯Ÿä¸‰ï¼šæŠ€æœ¯ä½ç½®</h4>
                    <p>å½“å‰ä»·æ ¼$272.95ä½äºè¿‘æœŸåŒºé—´$252.18-$280.90çš„72.3%ä½ç½®ï¼Œæ¥è¿‘MA5($270.02)æ”¯æ’‘ã€‚</p>
                </div>

                <div class="investment-advice">
                    <h4>ğŸ“ˆ æŠ•èµ„å»ºè®®</h4>
                    <p>
                        åŸºäºæŠ€æœ¯åˆ†æï¼Œå»ºè®®å…³æ³¨ <strong>$270.02</strong> (MA5) å’Œ <strong>$268.40</strong> (MA20) çš„å…³é”®æ”¯æ’‘ã€‚
                        è‹¥è‚¡ä»·èƒ½ç»´æŒåœ¨MA20ä¸Šæ–¹ä¸”æˆäº¤é‡é…åˆï¼Œåˆ™ä¸Šå‡è¶‹åŠ¿æœ‰æœ›å»¶ç»­ã€‚
                        ä¸‹æ–¹é‡è¦æ”¯æ’‘ä½äº <strong>$252.18</strong>ï¼Œä¸Šæ–¹é˜»åŠ›å…³æ³¨ <strong>$280.90</strong>ã€‚
                    </p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2026 è‚¡ä»·åˆ†ææŠ¥å‘Š | æ•°æ®æ¥æº: Yahoo Finance | åˆ†æå·¥å…·: Python + Plotly</p>
            <p>æ³¨æ„ï¼šæœ¬æŠ¥å‘Šä»…ä¾›å­¦ä¹ å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚è‚¡å¸‚æœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ã€‚</p>
        </div>
    </div>

    <script>
        // ä»åŸå§‹æ•°æ®è·å–æŒ‡æ ‡
        const metrics = {
            "total_days": 100,
            "date_range_start": "2025-10-03",
            "date_range_end": "2026-02-26",
            "ytd_return": 5.79,
            "avg_volume": 47564438,
            "max_price": 288.62,
            "max_price_date": "2025-12-03",
            "min_price": 243.42,
            "min_price_date": "2026-01-20",
            "avg_daily_range": 1.97,
            "up_days": 52,
            "down_days": 48,
            "trend": "ä¸Šæ¶¨",
            "last_10_return": 4.29,
            "first_10_return": -4.1,
            "recent_lows": [
                252.18,
                254.41,
                255.45
            ],
            "recent_highs": [
                280.9,
                280.18,
                279.5
            ],
            "volume_top3": [
                {
                    "Date": "2025-12-19",
                    "Volume": 144632048,
                    "Close": 273.67,
                    "Open": 272.145,
                    "ChangePct": 0.5603630417608386
                },
                {
                    "Date": "2026-01-30",
                    "Volume": 92443408,
                    "Close": 259.48,
                    "Open": 255.165,
                    "ChangePct": 1.6910626457390419
                },
                {
                    "Date": "2026-02-04",
                    "Volume": 90545710,
                    "Close": 276.49,
                    "Open": 272.285,
                    "ChangePct": 1.544337734359213
                }
            ],
            "high_range_days": [
                {
                    "Date": "2026-02-12",
                    "IntradayRange": 15.54000000000002,
                    "Close": 261.73
                },
                {
                    "Date": "2025-10-10",
                    "IntradayRange": 12.379999999999995,
                    "Close": 245.27
                },
                {
                    "Date": "2026-01-20",
                    "IntradayRange": 11.370000000000005,
                    "Close": 246.7
                },
                {
                    "Date": "2026-02-02",
                    "IntradayRange": 11.285000000000025,
                    "Close": 270.01
                },
                {
                    "Date": "2026-02-17",
                    "IntradayRange": 10.750000000000028,
                    "Close": 263.88
                }
            ],
            "chart_data": {
                "dates": [
                    "2025-10-03",
                    "2025-10-06",
                    "2025-10-07",
                    "2025-10-08",
                    "2025-10-09",
                    "2025-10-10",
                    "2025-10-13",
                    "2025-10-14",
                    "2025-10-15",
                    "2025-10-16",
                    "2025-10-17",
                    "2025-10-20",
                    "2025-10-21",
                    "2025-10-22",
                    "2025-10-23",
                    "2025-10-24",
                    "2025-10-27",
                    "2025-10-28",
                    "2025-10-29",
                    "2025-10-30",
                    "2025-10-31",
                    "2025-11-03",
                    "2025-11-04",
                    "2025-11-05",
                    "2025-11-06",
                    "2025-11-07",
                    "2025-11-10",
                    "2025-11-11",
                    "2025-11-12",
                    "2025-11-13",
                    "2025-11-14",
                    "2025-11-17",
                    "2025-11-18",
                    "2025-11-19",
                    "2025-11-20",
                    "2025-11-21",
                    "2025-11-24",
                    "2025-11-25",
                    "2025-11-26",
                    "2025-11-28",
                    "2025-12-01",
                    "2025-12-02",
                    "2025-12-03",
                    "2025-12-04",
                    "2025-12-05",
                    "2025-12-08",
                    "2025-12-09",
                    "2025-12-10",
                    "2025-12-11",
                    "2025-12-12",
                    "2025-12-15",
                    "2025-12-16",
                    "2025-12-17",
                    "2025-12-18",
                    "2025-12-19",
                    "2025-12-22",
                    "2025-12-23",
                    "2025-12-24",
                    "2025-12-26",
                    "2025-12-29",
                    "2025-12-30",
                    "2025-12-31",
                    "2026-01-02",
                    "2026-01-05",
                    "2026-01-06",
                    "2026-01-07",
                    "2026-01-08",
                    "2026-01-09",
                    "2026-01-12",
                    "2026-01-13",
                    "2026-01-14",
                    "2026-01-15",
                    "2026-01-16",
                    "2026-01-20",
                    "2026-01-21",
                    "2026-01-22",
                    "2026-01-23",
                    "2026-01-26",
                    "2026-01-27",
                    "2026-01-28",
                    "2026-01-29",
                    "2026-01-30",
                    "2026-02-02",
                    "2026-02-03",
                    "2026-02-04",
                    "2026-02-05",
                    "2026-02-06",
                    "2026-02-09",
                    "2026-02-10",
                    "2026-02-11",
                    "2026-02-12",
                    "2026-02-13",
                    "2026-02-17",
                    "2026-02-18",
                    "2026-02-19",
                    "2026-02-20",
                    "2026-02-23",
                    "2026-02-24",
                    "2026-02-25",
                    "2026-02-26"
                ],
                "opens": [
                    254.665,
                    257.99,
                    256.805,
                    256.52,
                    257.805,
                    254.94,
                    249.38,
                    246.6,
                    249.485,
                    248.25,
                    248.02,
                    255.885,
                    261.88,
                    262.65,
                    259.94,
                    261.19,
                    264.88,
                    268.985,
                    269.275,
                    271.99,
                    276.99,
                    270.42,
                    268.325,
                    268.61,
                    267.89,
                    269.795,
                    268.96,
                    269.81,
                    275.0,
                    274.11,
                    271.05,
                    268.815,
                    269.99,
                    265.525,
                    270.83,
                    265.95,
                    270.9,
                    275.27,
                    276.96,
                    277.26,
                    278.01,
                    283.0,
                    286.2,
                    284.095,
                    280.54,
                    278.13,
                    278.16,
                    277.75,
                    279.095,
                    277.9,
                    280.15,
                    272.82,
                    275.01,
                    273.605,
                    272.145,
                    272.86,
                    270.84,
                    272.34,
                    274.16,
                    272.69,
                    272.81,
                    273.06,
                    272.255,
                    270.64,
                    267.0,
                    263.2,
                    257.02,
                    259.075,
                    259.16,
                    258.72,
                    259.49,
                    260.65,
                    257.9,
                    252.73,
                    248.7,
                    249.2,
                    247.32,
                    251.48,
                    259.17,
                    257.65,
                    258.0,
                    255.165,
                    260.03,
                    269.2,
                    272.285,
                    278.13,
                    277.12,
                    277.905,
                    274.885,
                    274.695,
                    275.59,
                    262.01,
                    258.05,
                    263.6,
                    262.6,
                    258.97,
                    263.49,
                    267.86,
                    271.78,
                    274.945
                ],
                "highs": [
                    259.24,
                    259.07,
                    257.4,
                    258.52,
                    258.0,
                    256.38,
                    249.69,
                    248.845,
                    251.82,
                    249.04,
                    253.38,
                    264.375,
                    265.29,
                    262.85,
                    260.62,
                    264.13,
                    269.12,
                    269.89,
                    271.41,
                    274.14,
                    277.32,
                    270.85,
                    271.486,
                    271.7,
                    273.4,
                    272.29,
                    273.73,
                    275.91,
                    275.73,
                    276.699,
                    275.96,
                    270.49,
                    270.71,
                    272.21,
                    275.43,
                    273.33,
                    277.0,
                    280.38,
                    279.53,
                    279.0,
                    283.42,
                    287.4,
                    288.62,
                    284.73,
                    281.14,
                    279.6693,
                    280.03,
                    279.75,
                    279.59,
                    279.22,
                    280.15,
                    275.5,
                    276.16,
                    273.63,
                    274.6,
                    273.88,
                    272.5,
                    275.43,
                    275.37,
                    274.36,
                    274.08,
                    273.68,
                    277.84,
                    271.51,
                    267.55,
                    263.68,
                    259.29,
                    260.21,
                    261.3,
                    261.81,
                    261.04,
                    258.9,
                    254.79,
                    251.56,
                    251.0,
                    249.41,
                    256.56,
                    261.95,
                    258.855,
                    259.65,
                    261.8999,
                    270.49,
                    271.875,
                    278.95,
                    279.5,
                    280.905,
                    278.2,
                    275.37,
                    280.18,
                    275.72,
                    262.23,
                    266.29,
                    266.82,
                    264.48,
                    264.75,
                    269.43,
                    274.89,
                    274.94,
                    276.11
                ],
                "lows": [
                    253.95,
                    255.05,
                    255.43,
                    256.11,
                    253.14,
                    244.0,
                    245.56,
                    244.7,
                    247.47,
                    245.13,
                    247.27,
                    255.63,
                    261.83,
                    255.43,
                    258.0101,
                    259.18,
                    264.6501,
                    268.15,
                    267.11,
                    268.48,
                    269.16,
                    266.25,
                    267.615,
                    266.93,
                    267.89,
                    266.77,
                    267.455,
                    269.8,
                    271.7,
                    272.09,
                    269.6,
                    265.73,
                    265.32,
                    265.5,
                    265.92,
                    265.67,
                    270.9,
                    275.25,
                    276.63,
                    275.9865,
                    276.14,
                    282.6301,
                    283.3,
                    278.59,
                    278.05,
                    276.15,
                    276.92,
                    276.44,
                    273.81,
                    276.82,
                    272.84,
                    271.79,
                    271.64,
                    266.95,
                    269.9,
                    270.505,
                    269.56,
                    272.195,
                    272.86,
                    272.35,
                    272.28,
                    271.75,
                    269.0,
                    266.14,
                    262.12,
                    259.81,
                    255.7,
                    256.22,
                    256.8,
                    258.39,
                    256.71,
                    257.05,
                    254.93,
                    243.42,
                    245.18,
                    248.15,
                    244.68,
                    249.8,
                    258.21,
                    254.51,
                    254.41,
                    252.18,
                    259.205,
                    267.61,
                    272.285,
                    273.23,
                    276.925,
                    271.7,
                    272.94,
                    274.45,
                    260.18,
                    255.45,
                    255.54,
                    262.45,
                    260.05,
                    258.16,
                    263.381,
                    267.71,
                    271.05,
                    270.795
                ],
                "closes": [
                    258.02,
                    256.69,
                    256.48,
                    258.06,
                    254.04,
                    245.27,
                    247.66,
                    247.77,
                    249.34,
                    247.45,
                    252.29,
                    262.24,
                    262.77,
                    258.45,
                    259.58,
                    262.82,
                    268.81,
                    269.0,
                    269.7,
                    271.4,
                    270.37,
                    269.05,
                    270.04,
                    270.14,
                    269.77,
                    268.47,
                    269.43,
                    275.25,
                    273.47,
                    272.95,
                    272.41,
                    267.46,
                    267.44,
                    268.56,
                    266.25,
                    271.49,
                    275.92,
                    276.97,
                    277.55,
                    278.85,
                    283.1,
                    286.19,
                    284.15,
                    280.7,
                    278.78,
                    277.89,
                    277.18,
                    278.78,
                    278.03,
                    278.28,
                    274.11,
                    274.61,
                    271.84,
                    272.19,
                    273.67,
                    270.97,
                    272.36,
                    273.81,
                    273.4,
                    273.76,
                    273.08,
                    271.86,
                    271.01,
                    267.26,
                    262.36,
                    260.33,
                    259.04,
                    259.37,
                    260.25,
                    261.05,
                    259.96,
                    258.21,
                    255.53,
                    246.7,
                    247.65,
                    248.35,
                    248.04,
                    255.41,
                    258.27,
                    256.44,
                    258.28,
                    259.48,
                    270.01,
                    269.48,
                    276.49,
                    275.91,
                    278.12,
                    274.62,
                    273.68,
                    275.5,
                    261.73,
                    255.78,
                    263.88,
                    264.35,
                    260.58,
                    264.58,
                    266.18,
                    272.14,
                    274.23,
                    272.95
                ],
                "volumes": [
                    49155614,
                    44664118,
                    31955776,
                    36496895,
                    38322012,
                    61999098,
                    38142942,
                    35477986,
                    33893611,
                    39776974,
                    49146961,
                    90483029,
                    46695948,
                    45015254,
                    32754941,
                    38253717,
                    44888152,
                    41534759,
                    51086742,
                    69886534,
                    86167123,
                    50194583,
                    49274846,
                    42586288,
                    51204045,
                    48227365,
                    41312412,
                    46208318,
                    48397982,
                    49602794,
                    47431331,
                    45018260,
                    45677278,
                    40424492,
                    45823568,
                    59030832,
                    65585796,
                    46914220,
                    33431423,
                    20135620,
                    46587722,
                    53669532,
                    43538687,
                    43989056,
                    47265845,
                    36406317,
                    31753410,
                    33038318,
                    33247986,
                    39532887,
                    50409078,
                    37648628,
                    50138743,
                    51630721,
                    144632048,
                    36571827,
                    29641999,
                    17910574,
                    21521802,
                    23715213,
                    22139617,
                    27293639,
                    37838054,
                    45647190,
                    52352090,
                    48309804,
                    50419337,
                    39996967,
                    45263767,
                    45730847,
                    40019421,
                    45263767,
                    72142773,
                    77280987,
                    54641725,
                    39708340,
                    41688982,
                    55969234,
                    48787855,
                    41287971,
                    67253009,
                    92443408,
                    73913425,
                    63799388,
                    90545710,
                    52977441,
                    50453414,
                    44623396,
                    34376898,
                    51931283,
                    81077229,
                    56290673,
                    58469094,
                    34203337,
                    30845294,
                    42070499,
                    37308155,
                    47014619,
                    33714342,
                    32096062
                ],
                "ma5": [
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    256.658,
                    254.108,
                    252.302,
                    250.56,
                    248.81599999999997,
                    247.498,
                    248.902,
                    251.81799999999998,
                    254.81799999999998,
                    256.64,
                    259.066,
                    261.172,
                    262.486,
                    263.732,
                    265.98199999999997,
                    268.346,
                    269.85599999999994,
                    269.904,
                    270.11199999999997,
                    270.2,
                    269.87399999999997,
                    269.494,
                    269.57,
                    270.61199999999997,
                    271.278,
                    271.914,
                    272.702,
                    272.308,
                    270.746,
                    269.764,
                    268.424,
                    268.23999999999995,
                    269.93199999999996,
                    271.838,
                    273.6360000000001,
                    276.15600000000006,
                    278.47799999999995,
                    280.53200000000004,
                    281.968,
                    282.59799999999996,
                    282.584,
                    281.54200000000003,
                    279.74,
                    278.666,
                    278.132,
                    278.03200000000004,
                    277.27599999999995,
                    276.762,
                    275.37399999999997,
                    274.206,
                    273.284,
                    272.65600000000006,
                    272.206,
                    272.6,
                    272.842,
                    272.86,
                    273.282,
                    273.18199999999996,
                    272.622,
                    271.39399999999995,
                    269.114,
                    266.56399999999996,
                    264.0,
                    261.67199999999997,
                    260.27,
                    260.008,
                    259.934,
                    259.76800000000003,
                    259.0,
                    256.29,
                    253.60999999999999,
                    251.288,
                    249.254,
                    249.22999999999996,
                    251.544,
                    253.302,
                    255.288,
                    257.576,
                    260.496,
                    262.738,
                    266.748,
                    270.274,
                    274.002,
                    274.924,
                    275.764,
                    275.566,
                    272.73,
                    268.262,
                    266.11400000000003,
                    264.24800000000005,
                    261.264,
                    261.834,
                    263.91400000000004,
                    265.566,
                    267.54200000000003,
                    270.01599999999996
                ],
                "ma20": [
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    257.892,
                    258.5095,
                    259.1275,
                    259.80550000000005,
                    260.4095,
                    261.196,
                    262.356,
                    263.44449999999995,
                    264.8185,
                    266.025,
                    267.3,
                    268.306,
                    268.56699999999995,
                    268.8005,
                    269.306,
                    269.6395,
                    270.073,
                    270.42850000000004,
                    270.827,
                    271.21950000000004,
                    271.592,
                    272.2285,
                    273.0855,
                    273.791,
                    274.319,
                    274.7695,
                    275.2405,
                    275.62800000000004,
                    275.8045,
                    276.03249999999997,
                    276.29900000000004,
                    276.384,
                    276.7415,
                    276.9615,
                    277.14300000000003,
                    277.514,
                    277.48799999999994,
                    277.31,
                    277.152,
                    276.9445,
                    276.68999999999994,
                    276.189,
                    275.47249999999997,
                    274.81550000000004,
                    274.1435,
                    273.3225,
                    272.4445,
                    271.5375,
                    270.567,
                    269.678,
                    268.8165,
                    268.10900000000004,
                    267.28900000000004,
                    266.4735,
                    265.19899999999996,
                    263.898,
                    262.767,
                    261.551,
                    260.631,
                    259.8745,
                    259.0085,
                    258.2685,
                    257.6495,
                    257.5995,
                    257.7105,
                    258.41700000000003,
                    259.196,
                    260.15,
                    260.9125,
                    261.584,
                    262.3065,
                    262.395,
                    262.27349999999996,
                    262.691,
                    263.5735,
                    264.21999999999997,
                    265.0315,
                    265.93850000000003,
                    266.775,
                    267.573,
                    268.3985
                ],
                "volumeChanges": [
                    true,
                    false,
                    false,
                    true,
                    false,
                    false,
                    false,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    false,
                    true,
                    true,
                    true,
                    false,
                    true,
                    true,
                    false,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    false,
                    false,
                    false,
                    true,
                    false,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    true,
                    true,
                    false,
                    true,
                    true,
                    false,
                    false,
                    false,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    false,
                    false,
                    false,
                    false,
                    false,
                    true,
                    true,
                    false,
                    false,
                    true,
                    true,
                    true,
                    true,
                    true,
                    false,
                    true,
                    false,
                    false,
                    true,
                    false,
                    false,
                    true,
                    true,
                    false,
                    true,
                    true,
                    true,
                    true,
                    false
                ]
            }
        };

        // æå–æ•°æ®
        const dates = metrics.chart_data.dates;
        const opens = metrics.chart_data.opens;
        const highs = metrics.chart_data.highs;
        const lows = metrics.chart_data.lows;
        const closes = metrics.chart_data.closes;
        const volumes = metrics.chart_data.volumes;
        const ma5Values = metrics.chart_data.ma5;
        const ma20Values = metrics.chart_data.ma20;
        const volumeColors = metrics.chart_data.volumeChanges.map(isUp => isUp ? '#10b981' : '#ef4444');

        // 1. Kçº¿å›¾ + æˆäº¤é‡å­å›¾
        const candlestickTrace = {
            x: dates,
            open: opens,
            high: highs,
            low: lows,
            close: closes,
            type: 'candlestick',
            name: 'Kçº¿',
            increasing: { line: { color: '#10b981' }, fillcolor: '#10b981' },
            decreasing: { line: { color: '#ef4444' }, fillcolor: '#ef4444' },
            xaxis: 'x',
            yaxis: 'y'
        };

        const ma5Trace = {
            x: dates,
            y: ma5Values,
            type: 'scatter',
            mode: 'lines',
            name: 'MA5',
            line: { color: '#3b82f6', width: 2 },
            yaxis: 'y',
            connectgaps: true
        };

        const ma20Trace = {
            x: dates,
            y: ma20Values,
            type: 'scatter',
            mode: 'lines',
            name: 'MA20',
            line: { color: '#f59e0b', width: 2 },
            yaxis: 'y',
            connectgaps: true
        };

        const volumeTrace = {
            x: dates,
            y: volumes,
            type: 'bar',
            name: 'æˆäº¤é‡',
            marker: { color: volumeColors },
            yaxis: 'y2'
        };

        const candleLayout = {
            title: {
                text: 'è‹¹æœå…¬å¸è‚¡ä»·Kçº¿å›¾ä¸æˆäº¤é‡åˆ†æ',
                font: { size: 18, family: 'Microsoft YaHei, sans-serif' }
            },
            xaxis: {
                title: { text: 'æ—¥æœŸ', font: { family: 'Microsoft YaHei, sans-serif' } },
                type: 'date',
                rangeslider: { visible: false }
            },
            yaxis: {
                title: { text: 'ä»·æ ¼ (ç¾å…ƒ)', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0',
                domain: [0.3, 1]
            },
            yaxis2: {
                title: { text: 'æˆäº¤é‡ (è‚¡)', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0',
                domain: [0, 0.25],
                anchor: 'x'
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            legend: {
                x: 0.01,
                y: 0.99,
                bgcolor: 'rgba(255,255,255,0.8)'
            },
            hovermode: 'x unified',
            margin: { t: 60, b: 100, l: 60, r: 30 }
        };

        const candleConfig = {
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['pan2d', 'lasso2d', 'select2d'],
            toImageButtonOptions: {
                format: 'png',
                filename: 'apple_stock_candlestick_chart',
                height: 600,
                width: 1000,
                scale: 1
            }
        };

        Plotly.newPlot('candleChart', [candlestickTrace, ma5Trace, ma20Trace, volumeTrace], candleLayout, candleConfig);

        // 2. æ”¶ç›˜ä»·åˆ†å¸ƒä¸æ³¢åŠ¨åˆ†æå›¾
        // è®¡ç®—æ”¶ç›˜ä»·åˆ†å¸ƒç›´æ–¹å›¾
        const closePrices = closes;
        const minClose = Math.min(...closePrices);
        const maxClose = Math.max(...closePrices);
        const binCount = 20;
        const binSize = (maxClose - minClose) / binCount;

        const histBins = Array(binCount).fill(0);
        const histLabels = [];

        for (let i = 0; i < binCount; i++) {
            const lower = minClose + i * binSize;
            const upper = minClose + (i + 1) * binSize;
            histLabels.push(`${lower.toFixed(2)}-${upper.toFixed(2)}`);
            
            for (const price of closePrices) {
                if (price >= lower && price < upper) {
                    histBins[i]++;
                }
            }
        }

        // è®¡ç®—æ—¥å†…æ³¢åŠ¨å¹…åº¦
        const dailyRanges = highs.map((high, i) => high - lows[i]);

        const distTrace1 = {
            x: histBins,
            y: histLabels,
            type: 'bar',
            orientation: 'h',
            name: 'ä»·æ ¼åˆ†å¸ƒ',
            marker: { color: '#4f46e5' }
        };

        const distTrace2 = {
            x: dates,
            y: dailyRanges,
            type: 'scatter',
            mode: 'lines',
            name: 'æ—¥å†…æ³¢åŠ¨',
            line: { color: '#ec4899', width: 1 },
            yaxis: 'y2'
        };

        const distLayout = {
            title: {
                text: 'æ”¶ç›˜ä»·åˆ†å¸ƒç›´æ–¹å›¾ä¸æ—¥å†…æ³¢åŠ¨åˆ†æ',
                font: { size: 18, family: 'Microsoft YaHei, sans-serif' }
            },
            xaxis: {
                title: { text: 'äº¤æ˜“æ—¥æ•°é‡', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            yaxis: {
                title: { text: 'ä»·æ ¼åŒºé—´', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            yaxis2: {
                title: { text: 'æ³¢åŠ¨å¹…åº¦', font: { family: 'Microsoft YaHei, sans-serif' } },
                overlaying: 'y',
                side: 'right',
                showgrid: false
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            margin: { t: 60, b: 60, l: 100, r: 60 }
        };

        Plotly.newPlot('distributionChart', [distTrace1, distTrace2], distLayout);

        // 3. æ”¶ç›˜ä»·èµ°åŠ¿ä¸ç§»åŠ¨å¹³å‡çº¿
        const priceTrace = {
            x: dates,
            y: closes,
            type: 'scatter',
            mode: 'lines',
            name: 'æ”¶ç›˜ä»·',
            line: { color: '#1d4ed8', width: 2 }
        };

        const priceMa5Trace = {
            x: dates,
            y: ma5Values,
            type: 'scatter',
            mode: 'lines',
            name: 'MA5',
            line: { color: '#10b981', width: 2 }
        };

        const priceMa20Trace = {
            x: dates,
            y: ma20Values,
            type: 'scatter',
            mode: 'lines',
            name: 'MA20',
            line: { color: '#f59e0b', width: 2 }
        };

        const priceLayout = {
            title: {
                text: 'æ”¶ç›˜ä»·èµ°åŠ¿ä¸ç§»åŠ¨å¹³å‡çº¿',
                font: { size: 18, family: 'Microsoft YaHei, sans-serif' }
            },
            xaxis: {
                title: { text: 'æ—¥æœŸ', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            yaxis: {
                title: { text: 'ä»·æ ¼ (ç¾å…ƒ)', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            margin: { t: 60, b: 60, l: 60, r: 30 }
        };

        Plotly.newPlot('priceTrendChart', [priceTrace, priceMa5Trace, priceMa20Trace], priceLayout);

        // 4. æˆäº¤é‡æ—¶åºå›¾
        const volTrace = {
            x: dates,
            y: volumes,
            type: 'scatter',
            mode: 'lines',
            fill: 'tonexty',
            name: 'æˆäº¤é‡',
            line: { color: '#8b5cf6', width: 1 },
            fillcolor: 'rgba(139, 92, 246, 0.2)'
        };

        const volLayout = {
            title: {
                text: 'æˆäº¤é‡æ—¶åºåˆ†æ',
                font: { size: 18, family: 'Microsoft YaHei, sans-serif' }
            },
            xaxis: {
                title: { text: 'æ—¥æœŸ', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            yaxis: {
                title: { text: 'æˆäº¤é‡', font: { family: 'Microsoft YaHei, sans-serif' } },
                gridcolor: '#e2e8f0'
            },
            plot_bgcolor: 'white',
            paper_bgcolor: 'white',
            showlegend: true,
            margin: { t: 60, b: 60, l: 60, r: 30 }
        };

        Plotly.newPlot('volumeTrendChart', [volTrace], volLayout);

        console.log("æ‰€æœ‰å›¾è¡¨å·²æˆåŠŸåŠ è½½");
    </script>
</body>
</html>